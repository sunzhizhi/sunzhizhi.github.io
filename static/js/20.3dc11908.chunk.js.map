{"version":3,"sources":["../static/js/20.3dc11908.chunk.js","components/shared/LumensRates.js"],"names":["webpackJsonp","438","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","LumensRatesContainer","LumensRates","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_fetch_ponyfill__","__WEBPACK_IMPORTED_MODULE_2_fetch_ponyfill___default","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","fetch","FetchPonyfill","_React$PureComponent","this","getPrototypeOf","apply","arguments","_this2","updatePrice","intervalId","setInterval","bind","clearInterval","_this3","then","rsp","json","rspJson","lumens","newState","change","percent_change_24h","usd","price_usd","setState","catch","err","console","error","stack","state","a","createElement","React","PureComponent","_React$PureComponent2","changeNumStr","asFloat","Number","parseFloat","isNaN","positive","isPositive","valueStr","style","color","renderChange","propTypes","PropTypes","string","isRequired"],"mappings":"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","file":"static/js/20.3dc11908.chunk.js","sourcesContent":["webpackJsonp([20],{\n\n/***/ 438:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LumensRatesContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LumensRates\", function() { return LumensRates; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fetch_ponyfill__ = __webpack_require__(440);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fetch_ponyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_fetch_ponyfill__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var fetch=__WEBPACK_IMPORTED_MODULE_2_fetch_ponyfill___default()().fetch;var FEED_URL='https://api.coinmarketcap.com/v1/ticker/stellar/';var UPDATE_INTERVAL=5*60*1000;var LumensRatesContainer=function(_React$PureComponent){_inherits(LumensRatesContainer,_React$PureComponent);function LumensRatesContainer(){_classCallCheck(this,LumensRatesContainer);return _possibleConstructorReturn(this,(LumensRatesContainer.__proto__||Object.getPrototypeOf(LumensRatesContainer)).apply(this,arguments));}_createClass(LumensRatesContainer,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;this.updatePrice();this.intervalId=setInterval(function(){return _this2.updatePrice.bind(_this2);},UPDATE_INTERVAL);}},{key:'componentWillUnmount',value:function componentWillUnmount(){clearInterval(this.intervalId);}},{key:'updatePrice',value:function updatePrice(){var _this3=this;fetch(FEED_URL).then(function(rsp){return rsp.json();}).then(function(rspJson){var lumens=rspJson[0];var newState={change:lumens.percent_change_24h,usd:lumens.price_usd};_this3.setState(newState);}).catch(function(err){console.error('Failed to fetch price: ['+err+']');console.error('stack: ['+err.stack+']');});}},{key:'render',value:function render(){if(!this.state)return null;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(LumensRates,this.state);}}]);return LumensRatesContainer;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);var LumensRates=function(_React$PureComponent2){_inherits(LumensRates,_React$PureComponent2);function LumensRates(){_classCallCheck(this,LumensRates);return _possibleConstructorReturn(this,(LumensRates.__proto__||Object.getPrototypeOf(LumensRates)).apply(this,arguments));}_createClass(LumensRates,[{key:'isPositive',value:function isPositive(changeNumStr){var asFloat=Number.parseFloat(changeNumStr);return Number.isNaN(asFloat)===false&&Number(asFloat)>=0;}},{key:'renderChange',value:function renderChange(change){var positive=this.isPositive(change);var valueStr=''+(positive?'+':'')+this.props.change+'%';var style={color:positive?'#00c292':'#fb9678'};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{style:style},valueStr);}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'XLM/USD: ',this.props.usd,' ',this.renderChange(this.props.change));}}]);return LumensRates;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);LumensRates.propTypes={change:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,usd:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/20.3dc11908.chunk.js","import React from 'react'\nimport PropTypes from 'prop-types'\nimport FetchPonyfill from 'fetch-ponyfill'\nconst fetch = FetchPonyfill().fetch\n\nconst FEED_URL = 'https://api.coinmarketcap.com/v1/ticker/stellar/'\nconst UPDATE_INTERVAL = 5 * 60 * 1000\n\nclass LumensRatesContainer extends React.PureComponent {\n  componentDidMount() {\n    this.updatePrice()\n    this.intervalId = setInterval(\n      () => this.updatePrice.bind(this),\n      UPDATE_INTERVAL\n    )\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId)\n  }\n\n  updatePrice() {\n    fetch(FEED_URL)\n      .then(rsp => rsp.json())\n      .then(rspJson => {\n        const lumens = rspJson[0]\n        const newState = {\n          change: lumens.percent_change_24h,\n          usd: lumens.price_usd,\n        }\n        this.setState(newState)\n      })\n      .catch(err => {\n        console.error(`Failed to fetch price: [${err}]`)\n        console.error(`stack: [${err.stack}]`)\n      })\n  }\n\n  render() {\n    if (!this.state) return null\n    return <LumensRates {...this.state} />\n  }\n}\n\nclass LumensRates extends React.PureComponent {\n  isPositive(changeNumStr) {\n    const asFloat = Number.parseFloat(changeNumStr)\n    return Number.isNaN(asFloat) === false && Number(asFloat) >= 0\n  }\n\n  renderChange(change) {\n    const positive = this.isPositive(change)\n    const valueStr = `${positive ? '+' : ''}${this.props.change}%`\n    const style = {\n      color: positive ? '#00c292' : '#fb9678',\n    }\n    return <span style={style}>{valueStr}</span>\n  }\n\n  render() {\n    return (\n      <span>\n        XLM/USD: {this.props.usd} {this.renderChange(this.props.change)}\n      </span>\n    )\n  }\n}\n\nLumensRates.propTypes = {\n  change: PropTypes.string.isRequired,\n  usd: PropTypes.string.isRequired,\n}\n\nexport {LumensRatesContainer as default, LumensRates}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shared/LumensRates.js"],"sourceRoot":""}