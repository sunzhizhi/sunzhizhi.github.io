{"version":3,"sources":["../static/js/23.7cfbcb9e.chunk.js","components/TradeTable.js"],"names":["webpackJsonp","434","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_recompose__","__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_lib_Table__","__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_lib_Table___default","__WEBPACK_IMPORTED_MODULE_4_react_intl__","__WEBPACK_IMPORTED_MODULE_5_lodash_mapKeys__","__WEBPACK_IMPORTED_MODULE_5_lodash_mapKeys___default","__WEBPACK_IMPORTED_MODULE_6_lodash_camelCase__","__WEBPACK_IMPORTED_MODULE_6_lodash_camelCase___default","__WEBPACK_IMPORTED_MODULE_7__shared_AccountLink__","__WEBPACK_IMPORTED_MODULE_8__shared_FormattedAmount__","__WEBPACK_IMPORTED_MODULE_9__shared_Asset__","__WEBPACK_IMPORTED_MODULE_10__shared_DataFetchingContainer__","__WEBPACK_IMPORTED_MODULE_11__shared_DataFetchingAllContainer__","__WEBPACK_IMPORTED_MODULE_12__shared_Paging__","__WEBPACK_IMPORTED_MODULE_13__shared_Spinner__","__WEBPACK_IMPORTED_MODULE_14__shared_TimeSynchronizedFormattedRelative__","__WEBPACK_IMPORTED_MODULE_15__shared_CSVExport__","__WEBPACK_IMPORTED_MODULE_16__lib_stellar_utils__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","Trade","_ref","account","singleAccountView","trade","parentRenderTimestamp","Base","a","createElement","amount","baseAmount","code","baseAssetCode","issuer","baseAssetIssuer","type","baseAssetType","Counter","counterAmount","counterAssetCode","counterAssetIssuer","counterAssetType","baseFirst","account1","account2","accountIsBase","baseAccount","counterAccount","baseIsSeller","id","className","title","time","initialNow","propTypes","PropTypes","number","shape","string","isRequired","bool","TradeTable","_React$Component","this","getPrototypeOf","apply","arguments","page","records","limit","hidePagingFn","_props","server","style","marginTop","marginBottom","isPublicKey","map","ExportToCSVComponent","React","Component","array","object","accountView","rspRecToPropsRec","record","ledger_close_time","mapKeys","v","k","camelCase","fetchRecords","_ref2","builder","trades","forAccount","order","callBuilder","withDataFetchingAllContainer","CSVExport","enhance","compose","withPaging","withDataFetchingContainer","withSpinner"],"mappings":"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","file":"static/js/23.7cfbcb9e.chunk.js","sourcesContent":["webpackJsonp([23],{\n\n/***/ 434:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_recompose__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_bootstrap_lib_Table__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_bootstrap_lib_Table___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_lib_Table__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_intl__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash_mapKeys__ = __webpack_require__(245);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash_mapKeys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash_mapKeys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_lodash_camelCase__ = __webpack_require__(246);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_lodash_camelCase___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_lodash_camelCase__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_AccountLink__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_FormattedAmount__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_Asset__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__shared_DataFetchingContainer__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__shared_DataFetchingAllContainer__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__shared_Paging__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__shared_Spinner__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__shared_TimeSynchronizedFormattedRelative__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__shared_CSVExport__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__lib_stellar_utils__ = __webpack_require__(86);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Trade=function Trade(_ref){var account=_ref.account,singleAccountView=_ref.singleAccountView,trade=_ref.trade,parentRenderTimestamp=_ref.parentRenderTimestamp;var Base=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__shared_FormattedAmount__[\"default\"],{amount:trade.baseAmount}),' ',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__shared_Asset__[\"default\"],{code:trade.baseAssetCode,issuer:trade.baseAssetIssuer,type:trade.baseAssetType}));var Counter=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__shared_FormattedAmount__[\"default\"],{amount:trade.counterAmount}),' ',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__shared_Asset__[\"default\"],{code:trade.counterAssetCode,issuer:trade.counterAssetIssuer,type:trade.counterAssetType}));var baseFirst=void 0;var account1=void 0,account2=void 0;if(singleAccountView){var accountIsBase=account===trade.baseAccount;baseFirst=!accountIsBase;// account's bought asset first\naccount1=account;account2=accountIsBase?trade.counterAccount:trade.baseAccount;}else{baseFirst=trade.baseIsSeller;account1=trade.baseAccount;account2=trade.counterAccount;}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('tr',{key:trade.id,className:'trade'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'account-badge'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__shared_AccountLink__[\"default\"],{account:account1}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,baseFirst?Base:Counter),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'account-badge'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__shared_AccountLink__[\"default\"],{account:account2}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,baseFirst?Counter:Base),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{title:trade.time},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_14__shared_TimeSynchronizedFormattedRelative__[\"default\"],{initialNow:parentRenderTimestamp,value:trade.time}))));};Trade.propTypes={parentRenderTimestamp:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,trade:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({id:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,baseIsSeller:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool.isRequired,baseAccount:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,counterAccount:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,time:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired}).isRequired,account:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,singleAccountView:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool};var TradeTable=function(_React$Component){_inherits(TradeTable,_React$Component);function TradeTable(){_classCallCheck(this,TradeTable);return _possibleConstructorReturn(this,(TradeTable.__proto__||Object.getPrototypeOf(TradeTable)).apply(this,arguments));}_createClass(TradeTable,[{key:'componentDidMount',value:function componentDidMount(){if(this.props.page===0&&this.props.records.length<this.props.limit){this.props.hidePagingFn();}}},{key:'render',value:function render(){var _props=this.props,server=_props.server,parentRenderTimestamp=_props.parentRenderTimestamp,account=_props.account,records=_props.records;if(records.length===0)return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{marginTop:20,marginBottom:20}},'No Trades');var singleAccountView=Object(__WEBPACK_IMPORTED_MODULE_16__lib_stellar_utils__[\"c\" /* isPublicKey */])(account);return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap_lib_Table___default.a,{id:'trade-table',className:'table-striped table-hover table-condensed'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('thead',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('tr',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_intl__[\"b\" /* FormattedMessage */],{id:'account'}),' 1'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_intl__[\"b\" /* FormattedMessage */],{id:'bought'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_intl__[\"b\" /* FormattedMessage */],{id:'account'}),' 2'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_intl__[\"b\" /* FormattedMessage */],{id:'bought'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_intl__[\"b\" /* FormattedMessage */],{id:'time'})))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('tbody',null,records.map(function(trade){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Trade,{key:trade.id,trade:trade,account:account,singleAccountView:singleAccountView,parentRenderTimestamp:parentRenderTimestamp});}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'text-center',id:'csv-export'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ExportToCSVComponent,{account:account,server:server})));}}]);return TradeTable;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);TradeTable.propTypes={parentRenderTimestamp:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,records:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array.isRequired,server:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object.isRequired,account:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,accountView:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool};var rspRecToPropsRec=function rspRecToPropsRec(record){record.time=record.ledger_close_time;return __WEBPACK_IMPORTED_MODULE_5_lodash_mapKeys___default()(record,function(v,k){return __WEBPACK_IMPORTED_MODULE_6_lodash_camelCase___default()(k);});};var fetchRecords=function fetchRecords(_ref2){var account=_ref2.account,limit=_ref2.limit,server=_ref2.server;var builder=server.trades();if(account)builder.forAccount(account);builder.limit(limit);builder.order('desc');return builder.call();};var callBuilder=function callBuilder(props){return props.server.trades();};var ExportToCSVComponent=Object(__WEBPACK_IMPORTED_MODULE_11__shared_DataFetchingAllContainer__[\"withDataFetchingAllContainer\"])(fetchRecords,callBuilder)(__WEBPACK_IMPORTED_MODULE_15__shared_CSVExport__[\"default\"]);var enhance=Object(__WEBPACK_IMPORTED_MODULE_2_recompose__[\"a\" /* compose */])(Object(__WEBPACK_IMPORTED_MODULE_12__shared_Paging__[\"withPaging\"])(),Object(__WEBPACK_IMPORTED_MODULE_10__shared_DataFetchingContainer__[\"withDataFetchingContainer\"])(fetchRecords,rspRecToPropsRec,callBuilder),Object(__WEBPACK_IMPORTED_MODULE_13__shared_Spinner__[\"withSpinner\"])());/* harmony default export */ __webpack_exports__[\"default\"] = (enhance(TradeTable));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/23.7cfbcb9e.chunk.js","import React from 'react'\nimport PropTypes from 'prop-types'\nimport {compose} from 'recompose'\nimport Table from 'react-bootstrap/lib/Table'\nimport {FormattedMessage} from 'react-intl'\n\nimport mapKeys from 'lodash/mapKeys'\nimport camelCase from 'lodash/camelCase'\n\nimport AccountLink from './shared/AccountLink'\nimport FormattedAmount from './shared/FormattedAmount'\nimport Asset from './shared/Asset'\nimport {withDataFetchingContainer} from './shared/DataFetchingContainer'\nimport {withDataFetchingAllContainer} from './shared/DataFetchingAllContainer'\nimport {withPaging} from './shared/Paging'\nimport {withSpinner} from './shared/Spinner'\nimport TimeSynchronisedFormattedRelative from './shared/TimeSynchronizedFormattedRelative'\nimport CSVExport from './shared/CSVExport'\n\nimport {isPublicKey} from '../lib/stellar/utils'\n\nconst Trade = ({account, singleAccountView, trade, parentRenderTimestamp}) => {\n  const Base = (\n    <span>\n      <FormattedAmount amount={trade.baseAmount} />{' '}\n      <Asset\n        code={trade.baseAssetCode}\n        issuer={trade.baseAssetIssuer}\n        type={trade.baseAssetType}\n      />\n    </span>\n  )\n\n  const Counter = (\n    <span>\n      <FormattedAmount amount={trade.counterAmount} />{' '}\n      <Asset\n        code={trade.counterAssetCode}\n        issuer={trade.counterAssetIssuer}\n        type={trade.counterAssetType}\n      />\n    </span>\n  )\n\n  let baseFirst\n  let account1, account2\n\n  if (singleAccountView) {\n    const accountIsBase = account === trade.baseAccount\n    baseFirst = !accountIsBase // account's bought asset first\n    account1 = account\n    account2 = accountIsBase ? trade.counterAccount : trade.baseAccount\n  } else {\n    baseFirst = trade.baseIsSeller\n    account1 = trade.baseAccount\n    account2 = trade.counterAccount\n  }\n\n  return (\n    <tr key={trade.id} className=\"trade\">\n      <td>\n        <span className=\"account-badge\">\n          <AccountLink account={account1} />\n        </span>\n      </td>\n      <td>{baseFirst ? Base : Counter}</td>\n      <td>\n        <span className=\"account-badge\">\n          <AccountLink account={account2} />\n        </span>\n      </td>\n      <td>{baseFirst ? Counter : Base}</td>\n      <td>\n        <span title={trade.time}>\n          <TimeSynchronisedFormattedRelative\n            initialNow={parentRenderTimestamp}\n            value={trade.time}\n          />\n        </span>\n      </td>\n    </tr>\n  )\n}\n\nTrade.propTypes = {\n  parentRenderTimestamp: PropTypes.number,\n  trade: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    baseIsSeller: PropTypes.bool.isRequired,\n    baseAccount: PropTypes.string.isRequired,\n    counterAccount: PropTypes.string.isRequired,\n    time: PropTypes.string.isRequired,\n  }).isRequired,\n  account: PropTypes.string,\n  singleAccountView: PropTypes.bool,\n}\n\nclass TradeTable extends React.Component {\n  componentDidMount() {\n    if (this.props.page === 0 && this.props.records.length < this.props.limit) {\n      this.props.hidePagingFn()\n    }\n  }\n\n  render() {\n    const {server, parentRenderTimestamp, account, records} = this.props\n\n    if (records.length === 0)\n      return <div style={{marginTop: 20, marginBottom: 20}}>No Trades</div>\n\n    const singleAccountView = isPublicKey(account)\n\n    return (\n      <div>\n        <Table\n          id=\"trade-table\"\n          className=\"table-striped table-hover table-condensed\"\n        >\n          <thead>\n            <tr>\n              <th>\n                <FormattedMessage id=\"account\" />\n                {' 1'}\n              </th>\n              <th>\n                <FormattedMessage id=\"bought\" />\n              </th>\n              <th>\n                <FormattedMessage id=\"account\" />\n                {' 2'}\n              </th>\n              <th>\n                <FormattedMessage id=\"bought\" />\n              </th>\n              <th>\n                <FormattedMessage id=\"time\" />\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {records.map(trade => (\n              <Trade\n                key={trade.id}\n                trade={trade}\n                account={account}\n                singleAccountView={singleAccountView}\n                parentRenderTimestamp={parentRenderTimestamp}\n              />\n            ))}\n          </tbody>\n        </Table>\n        <div className=\"text-center\" id=\"csv-export\">\n          <ExportToCSVComponent account={account} server={server} />\n        </div>\n      </div>\n    )\n  }\n}\n\nTradeTable.propTypes = {\n  parentRenderTimestamp: PropTypes.number,\n  records: PropTypes.array.isRequired,\n  server: PropTypes.object.isRequired,\n  account: PropTypes.string,\n  accountView: PropTypes.bool,\n}\n\nconst rspRecToPropsRec = record => {\n  record.time = record.ledger_close_time\n  return mapKeys(record, (v, k) => camelCase(k))\n}\n\nconst fetchRecords = ({account, limit, server}) => {\n  const builder = server.trades()\n  if (account) builder.forAccount(account)\n  builder.limit(limit)\n  builder.order('desc')\n  return builder.call()\n}\n\nconst callBuilder = props => props.server.trades()\n\nconst ExportToCSVComponent = withDataFetchingAllContainer(\n  fetchRecords,\n  callBuilder\n)(CSVExport)\n\nconst enhance = compose(\n  withPaging(),\n  withDataFetchingContainer(fetchRecords, rspRecToPropsRec, callBuilder),\n  withSpinner()\n)\n\nexport default enhance(TradeTable)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TradeTable.js"],"sourceRoot":""}